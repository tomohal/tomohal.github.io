<!DOCTYPE html>
<html lang="ja">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="http://tomohal.github.io/theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="http://tomohal.github.io/theme/css/pygments.min.css">
  <link rel="stylesheet" type="text/css" href="http://tomohal.github.io/theme/css/font-awesome.min.css">
  <link href="http://tomohal.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Tomohal.github.io Atom">
  <link href="http://tomohal.github.io/all.rss.xml" type="application/rss+xml" rel="alternate" title="Tomohal.github.io RSS">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />
<meta name="author" content="Tomohal Shimizu" />
<meta name="description" content="このサイトを pelican を使って生成するという話．" />
<meta name="keywords" content="pelican, publishing">
<meta property="og:site_name" content="Tomohal.github.io"/>
<meta property="og:title" content="Using pelican as static html generator"/>
<meta property="og:description" content="このサイトを pelican を使って生成するという話．"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://tomohal.github.io/using-pelican.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2015-12-28 00:00:00+09:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="http://tomohal.github.io/author/tomohal-shimizu.html">
<meta property="article:section" content="Web"/>
<meta property="article:tag" content="pelican"/>
<meta property="article:tag" content="publishing"/>
<meta property="og:image" content="/images/openbsd.png">  <title>Tomohal.github.io &ndash; Using pelican as static html generator</title>
</head>
<body>
  <aside>
    <div>
      <a href="http://tomohal.github.io">
        <img src="/images/openbsd.png" alt="" title="">
      </a>
      <h1><a href="http://tomohal.github.io"></a></h1>
      <p>まったりずむ</p>
      <nav>
        <ul class="list">
          <li><a href="http://tomohal.github.io/pages/links.html#links">Links</a></li>
          <li><a href="http://tomohal.github.io/pages/sitemap.html#sitemap">Sitemap</a></li>
        </ul>
      </nav>
      <ul class="social">
        <li><a class="sc-facebook" href="" target="_blank"><i class="fa fa-facebook"></i></a></li>
        <li><a class="sc-rss" href="http://tomohal.github.io/all.rss.xml" target="_blank"><i class="fa fa-rss"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>
    <nav>
      <a href="http://tomohal.github.io">Home</a>
      <a href="/categories.html">Category</a>
      <a href="/tags.html">Tags</a>
      <a href="/archives.html">Archives</a>
      <a href="/sitemap.html">Sitemap</a>
      <a href="http://tomohal.github.io/feeds/all.atom.xml">Atom</a>
      <a href="http://tomohal.github.io/all.rss.xml">RSS</a>
    </nav>

<article>
  <header>
    <h1 id="using-pelican">Using pelican as static html generator</h1>
    <p>Posted on Mon 28 December 2015 in <a href="http://tomohal.github.io/category/web.html">Web</a></p>
  </header>
  <div>
    <p>このサイトは github pages で提供されています．
コンテンツの生成には <a href="http://blog.getpelican.com/">pelican</a> を使っています．
以下，pelican の使い方をまとめます．
作業は OpenBSD 5.8 の場合です．</p>
<h1>create user page on github</h1>
<p><a href="http://github.com">github</a> にアカウントを作り，適当にユーザーページを作
成して，ローカルにクローンします．</p>
<div class="highlight"><pre><span class="nv">$ </span>git clone https://github.com/&lt;username&gt;/username.github.io.git
</pre></div>


<p>したら，全部消します (^^;</p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>username.github.io
<span class="nv">$ </span>git rm &lt;いろいろ&gt;
</pre></div>


<h1>install pelican</h1>
<p>次に pelican をインストールします．</p>
<div class="highlight"><pre><span class="nv">$ </span>doas pkg_add py-pip
<span class="nv">$ </span>doas ln -s /usr/local/bin/pip2.7 /usr/local/bin/pip
<span class="nv">$ </span>doas pip install pelican markdown
</pre></div>


<h1>create a new project</h1>
<p>プロジェクトを作成します．</p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>username.github.io
<span class="nv">$ </span>pelican-quickstart
&gt; Where <span class="k">do</span> you want to create your new web site? <span class="o">[</span>.<span class="o">]</span> 
&gt; What will be the title of this web site? Random Memo
&gt; Who will be the author of this web site? tomohal
&gt; What will be the default language of this web site? <span class="o">[</span>en<span class="o">]</span> ja
&gt; Do you want to specify a URL prefix? e.g., http://example.com   <span class="o">(</span>Y/n<span class="o">)</span> 
&gt; What is your URL prefix? <span class="o">(</span>see above example<span class="p">;</span> no trailing slash<span class="o">)</span> http://tomohal.github.io
&gt; Do you want to <span class="nb">enable </span>article pagination? <span class="o">(</span>Y/n<span class="o">)</span> 
&gt; How many articles per page <span class="k">do</span> you want? <span class="o">[</span>10<span class="o">]</span> 
&gt; What is your <span class="nb">time </span>zone? <span class="o">[</span>Europe/Paris<span class="o">]</span> Asia/Tokyo
&gt; Do you want to generate a Fabfile/Makefile to automate generation and publishing? <span class="o">(</span>Y/n<span class="o">)</span> 
&gt; Do you want an auto-reload <span class="p">&amp;</span> simpleHTTP script to assist with theme and site development? <span class="o">(</span>Y/n<span class="o">)</span> 
&gt; Do you want to upload your website using FTP? <span class="o">(</span>y/N<span class="o">)</span> 
&gt; Do you want to upload your website using SSH? <span class="o">(</span>y/N<span class="o">)</span> 
&gt; Do you want to upload your website using Dropbox? <span class="o">(</span>y/N<span class="o">)</span> 
&gt; Do you want to upload your website using S3? <span class="o">(</span>y/N<span class="o">)</span> 
&gt; Do you want to upload your website using Rackspace Cloud Files? <span class="o">(</span>y/N<span class="o">)</span> 
&gt; Do you want to upload your website using GitHub Pages? <span class="o">(</span>y/N<span class="o">)</span> y
&gt; Is this your personal page <span class="o">(</span>username.github.io<span class="o">)</span>? <span class="o">(</span>y/N<span class="o">)</span> y
Done. Your new project is available at /home/tomohal/www/tomohal.github.io
</pre></div>


<h1>create a contents</h1>
<p>content の下にコンテンツファイルを作ります．試しに，このページを
Markdown 形式で作成します．</p>
<div class="highlight"><pre><span class="nv">$ </span>editor content/pelican.md
</pre></div>


<p>html 化は make でできますが，OpenBSD の make は BSD make のため，pelican
の Makefile を扱うことができません．ので，gmake をインストールします．</p>
<div class="highlight"><pre><span class="nv">$ </span>doas pkg_add gmake
</pre></div>


<p>したら，html ファイルを生成します．</p>
<div class="highlight"><pre><span class="nv">$ </span>gmake html
</pre></div>


<p>コンテンツを確認するためにサーバーを立ち上げます．</p>
<div class="highlight"><pre><span class="nv">$ </span>gmake serve
</pre></div>


<p>コンテンツの生成を自動的に行ってくれるローカルサーバーは以下のように起動します．</p>
<div class="highlight"><pre><span class="nv">$ </span>gmake devserver
</pre></div>


<h1>using theme</h1>
<p>theme を使って外観を変更することができます．
<a href="http://www.pelicanthemes.com/">Pelican Themes</a>にて適当に選びます．</p>
<div class="highlight"><pre><span class="nv">$ </span>pelican content -s pelicanconf.py -t /projects/your-site/themes/your-theme
<span class="nv">$ </span>doas pelican-theme --install folder
</pre></div>


<h1>push contents to github</h1>
<p>github に push するためにヘルパーをインストールします．</p>
<p><a href="https://github.com/davisp/ghp-import">ghp-import</a> を適当に持ってきます．</p>
<div class="highlight"><pre># unzip ghp-import-master.zip
# cd ghp-import-master
# python setup install
</pre></div>


<p>あとは実行するだけです．</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">gmake</span> <span class="n">github</span>
<span class="n">pelican</span> <span class="n">content</span> <span class="o">-</span><span class="n">o</span> <span class="n">output</span> <span class="o">-</span><span class="n">s</span> <span class="n">tomohal</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">publishconf</span><span class="o">.</span><span class="n">py</span> 
<span class="n">Done</span><span class="p">:</span> <span class="n">Processed</span> <span class="mi">2</span> <span class="n">articles</span><span class="p">,</span> <span class="mi">0</span> <span class="n">drafts</span><span class="p">,</span> <span class="mi">0</span> <span class="n">pages</span> <span class="ow">and</span> <span class="mi">0</span> <span class="n">hidden</span> <span class="n">pages</span> <span class="ow">in</span> <span class="mf">1.73</span> <span class="n">seconds</span><span class="o">.</span>
<span class="n">ghp</span><span class="o">-</span><span class="kn">import</span> <span class="o">-</span><span class="n">m</span> <span class="s">&quot;Generate Pelican site&quot;</span> <span class="o">-</span><span class="n">b</span> <span class="n">master</span> <span class="n">tomohal</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">output</span>
<span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">master</span>
<span class="n">Username</span> <span class="k">for</span> <span class="s">&#39;https://github.com&#39;</span><span class="p">:</span> <span class="n">XXXXXX</span>
<span class="n">Password</span> <span class="k">for</span> <span class="s">&#39;https://username@github.com&#39;</span><span class="p">:</span> <span class="n">XXXXXXXXXX</span>
<span class="n">Counting</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="n">done</span><span class="o">.</span>
<span class="n">Delta</span> <span class="n">compression</span> <span class="n">using</span> <span class="n">up</span> <span class="n">to</span> <span class="mi">2</span> <span class="n">threads</span><span class="o">.</span>
<span class="n">Compressing</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">4</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span> <span class="n">done</span><span class="o">.</span>
<span class="n">Writing</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">6</span><span class="o">/</span><span class="mi">6</span><span class="p">),</span> <span class="mf">3.00</span> <span class="n">KiB</span> <span class="o">|</span> <span class="mi">0</span> <span class="nb">bytes</span><span class="o">/</span><span class="n">s</span><span class="p">,</span> <span class="n">done</span><span class="o">.</span>
<span class="n">Total</span> <span class="mi">6</span> <span class="p">(</span><span class="n">delta</span> <span class="mi">4</span><span class="p">),</span> <span class="n">reused</span> <span class="mi">4</span> <span class="p">(</span><span class="n">delta</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">To</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">tomohal</span><span class="o">/</span><span class="n">tomohal</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">git</span>
    <span class="mi">94</span><span class="n">d2dc2</span><span class="o">..</span><span class="n">f9cebd5</span>  <span class="n">master</span> <span class="o">-&gt;</span> <span class="n">master</span>
</pre></div>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="http://tomohal.github.io/tag/pelican.html">pelican</a>
      <a href="http://tomohal.github.io/tag/publishing.html">publishing</a>
    </p>
  </div>
</article>

    <footer>
<p>
  &copy; Tomohal Shimizu 2015 - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a></p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
         src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "name": "Using pelican as static html generator",
  "headline": "Using pelican as static html generator",
  "datePublished": "2015-12-28 00:00:00+09:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Tomohal Shimizu",
    "url": "http://tomohal.github.io/author/tomohal-shimizu.html"
  },
  "image": "/images/openbsd.png",
  "url": "http://tomohal.github.io/using-pelican.html",
  "description": "このサイトを pelican を使って生成するという話．"
}
</script></body>
</html>